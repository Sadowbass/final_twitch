<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mybatis_uk">

	<insert id="cht" parameterType="bean.Cht">
		insert into final_cht(cht_serial, cht_mid, cht_oid, cht_txt, cht_date)
		values(final_cht_seq.nextval, #{cht_mid}, #{cht_oid}, #{cht_txt}, sysdate)
	</insert>

	<insert id="enter" parameterType="bean.UserList">
		insert into final_userlist(serial, mid, oid, status, enter_time)
		values(final_userlist_seq.nextval, #{mid}, #{oid}, #{status}, sysdate)
	</insert>

	<update id="exit" parameterType="bean.UserList">
		update final_userlist
		set status=#{status}, exit_time=sysdate
		where mid=#{mid}
		and oid=#{oid}
		and status=1
	</update>

	<!-- <select id="users" parameterType="String" resultType="String">
		select mid
		from final_userlist
		where mid=#{_parameter}
		and status=1
	</select> -->

	<select id="followList" parameterType="String" resultType="String">
		select  mfo_oid
		from final_mfollow
		where mfo_mid=#{_parameter}
	</select>

</mapper>