<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="cate">
	<select id="select" resultType="bean.BroadCastingCateVo">
		select * from final_category
	</select>
	
	 <select id='view' parameterType="String" resultType="bean.BroadCastingCateVo">
    	select * from final_category
    	where cat_serial='${_parameter}'
    </select>

     <delete id='delete' parameterType="bean.BroadCastingCateVo">
    	delete from final_category where cat_serial=#{cat_serial}
    </delete>
    
     <update id='update' parameterType="bean.BroadCastingCateVo">
    	update final_category set cat_gname=#{cat_gname}, cat_genre=#{cat_genre}
    	where cat_serial=#{cat_serial} 
    </update>
    
     <select id='ph_sysfile' parameterType="bean.BroadCastingCateVo" resultType="bean.BroadCastingCateVo">
    	select cat_sysfile from final_category
    	where cat_serial=#{cat_serial}
    </select>
    
    <update id='ph_modify' parameterType="bean.BroadCastingCateVo">
    	update final_category set cat_orifile=#{cat_orifile}, cat_sysfile=#{cat_sysfile}
    	where cat_serial=#{cat_serial} 
    </update>
    
    <insert id="insert" parameterType='bean.BroadCastingCateVo'>
    	insert into final_category(cat_serial,cat_gname,cat_genre,cat_orifile,cat_sysfile) 
    	values(seq_cate.nextval,#{cat_gname},#{cat_genre},#{cat_orifile},#{cat_sysfile})
    </insert>
    
    <select id="tag_select" resultType="bean.TagVo">
		select * from final_tag
	</select>
	
	 <select id="tag_search" parameterType="String" resultType="bean.TagVo">
		select * from final_tag where tag_name like '%${_parameter}%'
	</select>
	
	<delete id='tag_delete' parameterType="String">
    	delete from final_tag where tag_serial='${_parameter}'
    </delete>
    
     <insert id="tag_insert" parameterType='String'>
    	insert into final_tag(tag_serial,tag_name) 
    	values(seq_tag.nextval,'${_parameter}')
    </insert>

    <!--<select id="select" resultType="bean.MemberVo">
		select mem_id,mem_name,mem_email,mem_admin,to_char(mem_rdate,'rrrr-mm-dd') mem_rdate,mem_status from final_member
	</select>
    <select id='view' parameterType="String" resultType="bean.MemberVo">
    	select mem_id,mem_name,mem_email,mem_admin,to_char(mem_rdate,'rrrr-mm-dd') mem_rdate,mem_status,mem_birth,
    	mem_profile,mem_money,mem_zcode,mem_add1,mem_add2,ph_serial,ph_orifile,ph_sysfile,ph_Id
    	from final_member m join final_photo p 
    	on m.mem_id = p.ph_id(+)
    	where m.mem_id='${_parameter}'
    </select>
     <insert id="insert" parameterType='bean.MemberVo'>
    	insert into final_member(mem_id,mem_name,mem_email,mem_admin,mem_rdate,mem_status,mem_birth,mem_profile,mem_pwd)
    	values(#{mem_id},#{mem_name},#{mem_email},#{mem_admin},sysdate,0,#{mem_birth},#{mem_profile},#{mem_pwd})
    </insert>
     <insert id="insert_p" parameterType ='bean.MemberVo'>
    	insert into final_photo(ph_serial,ph_orifile,ph_sysfile,ph_id)
    	values(seq_Mphoto.nextval,#{ph_orifile},#{ph_sysfile},#{ph_id})
    </insert>
    <update id='update' parameterType="bean.MemberVo">
    	update final_member set mem_name=#{mem_name}, mem_email=#{mem_email}, mem_admin=#{mem_admin},mem_rdate=#{mem_rDate},
    	mem_status=#{mem_status}, mem_birth=#{mem_birth}, mem_profile=#{mem_profile}, mem_money=#{mem_money}, mem_zcode=#{mem_zcode},
    	mem_add1=#{mem_add1},mem_add2=#{mem_add2}
    	where mem_id=#{mem_id} 
    </update>
    <select id="ph_sysfile" parameterType ="bean.MemberVo" resultType="bean.MemberVo">
    	select ph_sysfile from final_photo
    	where ph_id=#{ph_id}
    </select>
     <update id='ph_modify' parameterType="bean.MemberVo">
    	update final_photo set ph_orifile=#{ph_orifile}, ph_sysfile=#{ph_sysfile}
    	where ph_id=#{ph_id} 
    </update>
    <insert id="ph_insert" parameterType ='bean.MemberVo'>
    	insert into final_photo(ph_serial,ph_orifile,ph_sysfile,ph_id)
    	values(seq_Mphoto.nextval,#{ph_orifile},#{ph_sysfile},#{ph_id})
    </insert>
    <delete id='delete' parameterType="String">
    	delete from final_member where mem_id='${_parameter}'
    </delete>
    <delete id='ph_delete' parameterType="String">
		delete from final_photo
		where ph_id = '${_parameter}'
    </delete>-->
 
</mapper>